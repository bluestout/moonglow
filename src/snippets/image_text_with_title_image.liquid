{% assign type =  block.settings.layout %}
{% if block.settings.wide_display %}
    {% assign wide_display = 'fluid-display' %}    
{% endif %}

<style>
    .image-text-block{
        background-color: {{ block.settings.bg_color }};
    }
</style>
<section class="image-text-block {{ type }} {{ wide_display }}">
    {% capture image_layout %}
        <div class="image-with-text__image grid__item one-half medium-down--one-whole {% if block.settings.layout == 'right' %}right{% else %}left{% endif %}">
        {% if block.settings.image != blank %}
            <img src="{{ block.settings.image | img_url: 'original'}}" alt="{{ block.settings.title | escape }}">
        {% else %}
            {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
        {% endif %} 
        </div>
    {% endcapture %}
    {{ image_layout }}

    <div class="image-with-text__text grid__item one-half medium-down--one-whole left">
        <div class="info">
            {% if block.settings.title_image_1 != blank or block.settings.title_image_2 != blank %}
                <div class="grid title-iamge">
                    <div class="grid__item one-half">
                        <img src="{{ block.settings.title_image_1 | img_url: '500x' }}" alt="{{ block.settings.title | escape }}">
                    </div>
                    <div class="grid__item one-half">
                        <img src="{{ block.settings.title_image_2 | img_url: '500x' }}" alt="{{ block.settings.title | escape }}">
                    </div>
                </div>
            {% endif %}
            {% if block.settings.title != blank %}
            <h2>{{ block.settings.title | escape }}</h2>
            {% endif %}
            {% if block.settings.sub_title != blank %}
                <p class="mark uppercase"> {{ block.settings.sub_title }} </p>
            {% endif %}
            {% if block.settings.enable_devider %}
            <div class="devider"></div>
            {% endif %}

            {% if block.settings.text != blank %}
            <div class="desc">{{ block.settings.text }}</div>
            {% endif %}
        </div>
    </div>
</section>
